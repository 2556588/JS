<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			body{
				margin: 0;
				padding: 0;
			}
			/* #circle{
				position: relative;
				width: 300px;
				height: 300px;
				background: #f2f2f2;
				border-radius: 50%;
			}
			#ball{
				position: absolute;
				width: 10px;
				height: 10px;
				margin-left: -5px;
				margin-top: -5px;
				background: red;
				border-radius: 50%;
			} */
			.ball{
				width: 10px;
				height: 10px;;
				position: absolute;
				background-color: #ccc;
				border-radius: 50%;
			}
		</style>
	</head>
	<body>
		<!-- <div id="circle">
			<div id="ball"></div>
		</div> -->
		<script type="text/javascript">
		//法一
			// var oCircle = document.getElementById("circle");
			// var oBall = document.getElementById("ball");
			
			// var r = oCircle.offsetWidth/2;
			// var angle = 0;  //起始角度
			
			// var timer = setInterval(function(){
			// 	angle++;
			// 	var hd = Math.PI/180*angle;
				
			// 	var x = r*Math.cos(hd);//算出圆周上每一个x的x，y轴 
			// 	var y = r*Math.sin(hd);
				
			// 	oBall.style.left =r+ x + "px";//算出圆周上每一个坐标,围绕固定点旋转
			// 	oBall.style.top =r- y + "px";
				
				
			// },30)
			
			

		//法二
		// var ball;
		// var angle=0;
		// var r=200;
		// init();
		// function init(){
		// 	ball=document.createElement("div");
		// 	ball.className="ball";
		// 	document.body.appendChild(ball);
		// 	animation();

		// }
		// function animation(){
		// 	requestAnimationFrame(animation);	//请求浏览器执行下一帧动画。
		// 	angle++;
		// 	if (angle===360) {
		// 		angle=0
		// 	}
		// 	var speedX=Math.sin(angle*Math.PI/180)*r;
		// 	var speedY=Math.cos(angle*Math.PI/180)*r;
		// 	ball.style.left=(document.documentElement.clientWidth-ball.offsetWidth)/2+speedX+"PX";
		// 	ball.style.top=(document.documentElement.clientHeight-ball.offsetHeight)/2+speedY+"PX";
		// }



			var arr=[];
		var angle=0
		var r=30;
		var time=10;
		init();
		function init(){
			
			animation();

		}
		function createBall(alpha){
			var ball=document.createElement("div");
			
			ball.className="ball";
			ball.style.opacity=alpha; //传入通明度
			document.body.appendChild(ball);
			ball.angle=0; //初始位置
			arr.push(ball)
		}
		function animation(){
			requestAnimationFrame(animation);	//请求浏览器执行下一帧动画。

			for (var i = 0; i < arr.length; i++) {
				update(arr[i]);//update传入小球更新位置
				
			}
			time--;
			if (time>0||arr.length>14) return;	//控制长度和多长时间执行createBall
			createBall(1-arr.length*0.08); 	//控制通明度；
			time=5;		//多长时间进来
			
		}
		function update(elem){//更新位置
			elem.angle+=5;
			if (elem.angle===360) {
				elem.angle=0
			}
			var speedX=Math.sin(elem.angle*Math.PI/180)*r;
			var speedY=Math.cos(elem.angle*Math.PI/180)*r;
			elem.style.left=(document.documentElement.clientWidth-elem.offsetWidth)/2+speedX+"PX";
			elem.style.top=(document.documentElement.clientHeight-elem.offsetHeight)/2+speedY+"PX";
		}
		</script>
	</body>
</html>
